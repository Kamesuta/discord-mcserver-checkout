# コマンドリスト

Discord Bot で利用可能なコマンドの一覧です。

## 目次

- [管理者コマンド（イレギュラー対応）](#管理者コマンドイレギュラー対応)
- [管理者コマンド](#管理者コマンド)
- [一般ユーザーコマンド](#一般ユーザーコマンド)

---

## 管理者コマンド（イレギュラー対応）

### `/mcserver-admin`

イレギュラーな状況に対応するための管理者専用コマンド群。

#### サーバーバインディング管理 (`server-binding`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `list` | サーバーバインディング一覧を表示 | - | - |
| `set` | サーバーバインディングを設定 | `name`: サーバー名<br>`ptero-id`: Pterodactyl サーバーID | - |
| `unset` | サーバーバインディングを削除 | `name`: サーバー名 | - |

#### サーバー管理 (`server`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `status` | サーバーのステータスを取得 | `server`: サーバー名 | - |
| `power` | サーバーの電源操作 | `server`: サーバー名<br>`signal`: 操作 (起動/停止/再起動/強制終了) | - |
| `backup` | サーバーのバックアップを作成してダウンロード | `server`: サーバー名 | - |
| `clean` | サーバーを初期状態にリセットする | `server`: サーバー名<br>`mc-version`: MCバージョン | - |
| `description` | サーバーのDescriptionを取得・更新 | `server`: サーバー名 | `description`: 新しいDescription（省略時は現在の値を表示） |

---

## 管理者コマンド

### `/mcserver-op`

通常の管理者業務用コマンド群。

#### 申請管理 (`workflow`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `list` | 申請一覧を表示 | - | `status`: 表示する申請のステータス<br>（承認待ち/却下済み/貸出中/返却済み/すべて） |
| `edit` | PENDING/ACTIVE の申請を編集 | `id`: 申請ID | - |
| `approve` | 申請を承認する | `id`: 申請ID | - |

#### 貸出管理 (`checkout`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `create` | 管理者がサーバー貸出を直接作成する（PENDING状態をスキップ） | `organizer`: 主催者 | `applicant`: 申請者（省略時は主催者と同じ）<br>`skip-reset`: サーバーをリセットしない（既存の環境を保持）<br>`server`: デプロイ先サーバー名（省略時は自動割り当て） |
| `list` | 貸出中サーバー一覧を表示（ガントチャート付き） | - | - |
| `return` | サーバーを返却する | `id`: 申請ID | `skip-reset`: サーバーリセット（全ファイル削除）をスキップする<br>`skip-archive`: アーカイブ処理をスキップする |
| `extend` | 貸出期限を変更する | `id`: 申請ID<br>`date`: 日付 (YYYY/MM/DD) | - |
| `server-status` | サーバーのステータスを取得 | `server`: サーバー名 | - |

#### アーカイブ管理 (`archive`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `list` | アーカイブ済み企画の一覧を表示 | - | - |
| `get` | アーカイブフォルダの共有リンクを取得 | `id`: 企画ID | - |

#### ユーザー管理 (`user`)

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `register` | Pterodactylにユーザーを登録 | `username`: Pterodactyl用ID (半角英数)<br>`nickname`: ニックネーム<br>`user`: 登録するDiscordユーザー | - |

---

## 一般ユーザーコマンド

### `/mcserver`

一般ユーザーが利用できるコマンド群。

| コマンド | 説明 | 必須パラメーター | オプションパラメーター |
|---------|------|----------------|---------------------|
| `checkout` | サーバー貸出申請を行う | - | `organizer`: 主催者（省略時は自分） |
| `return` | 自分のサーバーを返却する（主催者のみ） | `id`: 申請ID | - |
| `reset-password` | Pterodactylのパスワードをリセットする | - | - |
| `extend` | サーバー貸出期限を1週間延長する | - | - |

---

## 注意事項

- **オートコンプリート対応**: `server`, `id` などのパラメーターは、入力時に候補が表示されます
- **権限**: 管理者コマンドは適切な権限を持つユーザーのみが実行できます
- **モーダル入力**: `checkout`, `edit`, `approve`, `create` などは、コマンド実行後にモーダル（入力フォーム）が表示されます
- **確認ダイアログ**: `return` などの破壊的な操作では、実行前に確認ダイアログが表示されます
